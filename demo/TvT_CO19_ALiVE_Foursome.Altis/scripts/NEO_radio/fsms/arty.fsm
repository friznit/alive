/*%FSM<COMPILE "C:\Program Files (x86)\Bohemia Interactive\Tools\FSM Editor Personal Edition\scriptedFSM.cfg, arty">*/
/*%FSM<HEAD>*/
/*
item0[] = {"start",0,250,-36.351212,57.862579,53.648788,107.862579,0.000000,"start"};
item1[] = {"true",4,218,-36.351082,134.668213,53.648918,184.668213,0.000000,"true"};
item2[] = {"main_loop",2,250,-35.750900,218.566711,54.249115,268.566589,0.000000,"main loop"};
item3[] = {"dead",4,218,-548.522095,217.568558,-458.522186,267.568542,100.000000,"dead"};
item4[] = {"_",1,250,-681.798584,217.122131,-591.798523,267.122131,0.000000,""};
item5[] = {"new_task",4,218,-60.650146,298.430115,80.209579,400.702637,0.000000,"new task"};
item6[] = {"__1",2,250,-36.633011,459.067902,53.367004,509.067902,0.000000,""};
item7[] = {"proceed",4,218,-36.677162,592.219055,53.322868,642.219116,0.000000,"proceed"};
item8[] = {"__2",2,250,207.490067,559.581848,297.490021,609.581726,0.000000,""};
item9[] = {"not_in_range",4,218,206.825500,459.822144,296.825836,509.822021,1.000000,"not in" \n "range"};
item10[] = {"__3",2,250,-36.770317,698.749512,53.229698,748.749512,0.000000,""};
item11[] = {"shoot",4,218,-36.785881,814.444885,53.214119,864.444885,0.000000,"shoot"};
item12[] = {"__4",2,250,-36.770164,913.172729,53.229855,963.172729,0.000000,""};
item13[] = {"complete",4,218,-96.226044,986.396057,-6.226044,1036.396118,0.000000,"complete"};
item14[] = {"__5",2,250,-95.456024,1064.172607,-5.455978,1114.172607,0.000000,""};
item15[] = {"splash",4,218,19.470146,985.334717,109.470093,1035.334839,1.000000,"splash"};
item16[] = {"__6",2,250,19.454887,1064.156738,109.454903,1114.156738,0.000000,""};
item17[] = {"splash_2",4,218,-96.225784,1143.488403,-6.225792,1193.488403,0.000000,"splash" \n "2"};
item18[] = {"complete_2",4,218,19.297787,1143.488403,109.297791,1193.488403,0.000000,"complete" \n "2"};
item19[] = {"__7",2,250,-95.918556,1219.911499,-5.918537,1269.911499,0.000000,""};
item20[] = {"__8",2,250,18.937172,1219.868530,108.937187,1269.868530,0.000000,""};
item21[] = {"ready_for_new_mi",4,218,-41.031563,1311.193726,48.968437,1361.193726,0.000000,"ready for" \n "new mission"};
item22[] = {"not_viable",4,218,-178.667252,457.304718,-88.667252,507.304749,3.000000,"not viable"};
item23[] = {"__9",1,250,-312.321655,457.347839,-222.321640,507.347809,0.000000,""};
item24[] = {"",7,210,114.476128,1364.018188,122.476128,1372.018188,0.000000,""};
item25[] = {"",7,210,114.168083,238.758179,122.168083,246.758179,0.000000,""};
item26[] = {"static",4,218,341.523376,559.526184,431.523376,609.526184,0.000000,"static"};
item27[] = {"mobile",4,218,206.693802,647.789978,296.693817,697.789978,1.000000,"mobile"};
item28[] = {"",7,210,382.593201,238.761154,390.593201,246.761169,0.000000,""};
item29[] = {"__10",2,250,204.792725,732.247986,294.792694,782.247986,0.000000,""};
item30[] = {"do_not_move",4,218,341.831482,732.247986,431.831482,782.247986,0.000000,"do not move"};
item31[] = {"move_out",4,4314,204.792770,812.775879,294.792725,862.775879,1.000000,"move out"};
item32[] = {"__11",2,250,204.484650,895.513062,294.484650,945.513062,0.000000,""};
item33[] = {"in_position",4,218,204.485428,978.201355,295.412292,1027.274170,0.000000,"in position"};
item34[] = {"__12",2,250,134.887344,979.618530,191.518295,1014.787781,0.000000,""};
item35[] = {"",7,210,159.953232,612.891418,167.953232,620.891418,0.000000,""};
item36[] = {"__13",2,250,-40.704330,1392.143921,49.295685,1442.143921,0.000000,""};
item37[] = {"not_at_base",4,218,-40.855659,1473.569946,49.144348,1523.569946,1.000000,"not at base"};
item38[] = {"at_base",4,218,72.036278,1392.995972,162.036285,1442.995972,0.000000,"at base"};
item39[] = {"",7,210,114.110008,1662.778931,122.110008,1670.778931,0.000000,""};
item40[] = {"__14",2,250,-42.212624,1559.066895,47.787392,1609.066895,0.000000,""};
item41[] = {"in_position_at_b",4,218,-42.212608,1641.851563,47.787392,1691.851563,0.000000,"in position" \n "at base"};
item42[] = {"",7,210,-507.470367,719.736694,-499.470367,727.736694,0.000000,""};
item43[] = {"",7,210,-507.116516,934.151672,-499.116577,942.151672,0.000000,""};
item44[] = {"",7,210,-507.116577,1084.933838,-499.116577,1092.933838,0.000000,""};
item45[] = {"",7,210,-507.116638,1240.721802,-499.116608,1248.721802,0.000000,""};
item46[] = {"",7,210,-507.116516,1413.044189,-499.116577,1421.044189,0.000000,""};
item47[] = {"",7,210,-507.116577,1579.981812,-499.116577,1587.981812,0.000000,""};
item48[] = {"",7,210,-506.401337,581.279907,-498.401337,589.279907,0.000000,""};
item49[] = {"",7,210,-507.737457,753.639648,-499.737457,761.639648,0.000000,""};
item50[] = {"",7,210,-507.737488,916.646606,-499.737488,924.646606,0.000000,""};
item51[] = {"move_aborted",4,218,204.366837,1391.380371,294.366852,1441.380371,1.000000,"move" \n "aborted"};
item52[] = {"NO_AMMO",4,218,-189.768967,152.756439,-99.768997,202.756439,50.000000,"NO AMMO"};
item53[] = {"__15",1,250,-320.907318,152.756531,-230.907272,202.756516,0.000000,""};
link0[] = {0,1};
link1[] = {1,2};
link2[] = {2,3};
link3[] = {2,5};
link4[] = {2,52};
link5[] = {3,4};
link6[] = {5,6};
link7[] = {6,7};
link8[] = {6,9};
link9[] = {6,22};
link10[] = {7,10};
link11[] = {8,26};
link12[] = {8,27};
link13[] = {8,48};
link14[] = {9,8};
link15[] = {10,11};
link16[] = {10,42};
link17[] = {11,12};
link18[] = {12,13};
link19[] = {12,15};
link20[] = {12,43};
link21[] = {13,14};
link22[] = {14,17};
link23[] = {14,44};
link24[] = {15,16};
link25[] = {16,18};
link26[] = {16,44};
link27[] = {17,19};
link28[] = {18,20};
link29[] = {19,21};
link30[] = {19,45};
link31[] = {20,21};
link32[] = {20,45};
link33[] = {21,36};
link34[] = {22,23};
link35[] = {24,25};
link36[] = {25,2};
link37[] = {26,28};
link38[] = {27,29};
link39[] = {28,25};
link40[] = {29,30};
link41[] = {29,31};
link42[] = {29,49};
link43[] = {30,28};
link44[] = {31,32};
link45[] = {32,33};
link46[] = {32,50};
link47[] = {32,51};
link48[] = {33,34};
link49[] = {34,35};
link50[] = {35,7};
link51[] = {36,37};
link52[] = {36,38};
link53[] = {36,46};
link54[] = {37,40};
link55[] = {38,24};
link56[] = {39,24};
link57[] = {40,41};
link58[] = {40,47};
link59[] = {41,39};
link60[] = {42,48};
link61[] = {43,50};
link62[] = {44,43};
link63[] = {45,44};
link64[] = {46,45};
link65[] = {47,46};
link66[] = {48,3};
link67[] = {49,42};
link68[] = {50,49};
link69[] = {51,36};
link70[] = {52,53};
globals[] = {0.000000,0,0,0,0,640,480,1,120,6316128,1,-311.967133,609.282471,1527.378418,564.609863,843,906,1};
window[] = {2,-1,-1,-1,-1,962,225,1485,225,3,861};
*//*%FSM</HEAD>*/
class FSM
{
  fsmName = "arty";
  class States
  {
    /*%FSM<STATE "start">*/
    class start
    {
      name = "start";
      init = /*%FSM<STATEINIT""">*/"private " \n
       "[" \n
       "	""_units"",""_grp"", ""_callsign"", ""_pos"", ""_availableRounds"", ""_canMove""," \n
       "	""_class"", ""_battery"", ""_leader""" \n
       "];" \n
       "_units = _this select 0;" \n
       "_grp = _this select 1;" \n
       "_callsign = _this select 2;" \n
       "_pos = _this select 3;" \n
       "_availableRounds = _this select 4;" \n
       "_canMove = _this select 5;" \n
       "_class = _this select 6;" \n
       "_battery = _this select 7;" \n
       "_leader = leader _grp;" \n
       "" \n
       "private " \n
       "[" \n
       "	""_radiusMove"", ""_dirMove"", ""_posMove"", ""_isFlat"", ""_tries"", ""_delay"", ""_dummy""," \n
       "	""_firingDistance"", ""_ammo"", ""_newAmmo"", ""_newAmmoIndex"", ""_newAmmoArray""" \n
       "];" \n
       "_radiusMove = 0;" \n
       "_dirMove = 0;" \n
       "_posMove = [];" \n
       "_isFlat = [];" \n
       "_tries = 0;" \n
       "_delay = 0;" \n
       "_dummy = objNull;" \n
       "_firingDistance = [];" \n
       "_ammo = [];" \n
       "_newAmmo = [];" \n
       "_newAmmoIndex = 0;" \n
       "_newAmmoArray = [];" \n
       "" \n
       "private " \n
       "[" \n
       "	""_inRange"", ""_available"", ""_viable""" \n
       "];" \n
       "_inRange = false;" \n
       "_available = [];" \n
       "_viable = false;" \n
       "" \n
       "_grp setBehaviour ""COMBAT"";" \n
       "_grp setCombatMode ""RED"";" \n
       "_grp setSpeedMode ""FULL"";" \n
       "" \n
       "//Battery Status" \n
       "_battery setVariable [""NEO_radioArtyUnitStatus"", ""NONE"", true];" \n
       ""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "true">*/
        class true
        {
          priority = 0.000000;
          to="main_loop";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"true" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "main_loop">*/
    class main_loop
    {
      name = "main_loop";
      init = /*%FSM<STATEINIT""">*/"private " \n
       "[" \n
       "	""_newTaskArray"", ""_missionType"", ""_ordnanceType"", ""_rateOfFire"", ""_durationOrCount"", " \n
       "	""_dispersion"", ""_target""" \n
       "];" \n
       "_newTaskArray = [];" \n
       "_missionType = """";" \n
       "_ordnanceType = """";" \n
       "_rateOfFire = 0;" \n
       "_durationOrCount = 0;" \n
       "_dispersion = 0;" \n
       "_target = [];" \n
       "" \n
       "{" \n
       "	_x setFuel 1;" \n
       "	_x setDamage 0;" \n
       "	_x setVehicleAmmo 1;" \n
       "} forEach _units;" \n
       ""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "dead">*/
        class dead
        {
          priority = 100.000000;
          to="_";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"{ alive _x } count _units < 1" \n
           "||" \n
           "{ alive _x } count units _grp < 1" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "NO_AMMO">*/
        class NO_AMMO
        {
          priority = 50.000000;
          to="__15";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"count (_battery getVariable ""NEO_radioArtyBatteryRounds"") < 1" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "new_task">*/
        class new_task
        {
          priority = 0.000000;
          to="__1";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"!isNil { _battery getVariable ""NEO_radioArtyNewTask"" }" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"_newTaskArray = _battery getVariable ""NEO_radioArtyNewTask"";" \n
           "_missionType = _newTaskArray select 0;" \n
           "_ordnanceType = _newTaskArray select 1;" \n
           "_rateOfFire = _newTaskArray select 2;" \n
           "_durationOrCount = _newTaskArray select 3;" \n
           "_dispersion = _newTaskArray select 4;" \n
           "_target = _newTaskArray select 5; _target set [2, 0];" \n
           "_battery setVariable [""NEO_radioArtyNewTask"", nil, true];" \n
           "" \n
           "//Get ASL position" \n
           "_dummy = ""HeliHEmpty"" createVehicleLocal _target;" \n
           "_dummy setPosATL [getPosATL _dummy select 0, getPosATL _dummy select 1, 0];" \n
           "_target = getPosASL _dummy;" \n
           "deleteVehicle _dummy;" \n
           "" \n
           "//Validate Fire Mission" \n
           "_inRange = [_battery, _target, _ordnanceType]  call BIS_ARTY_F_PosInRange;" \n
           "_available = [_battery, [_missionType, _ordnanceType, _rateOfFire, _durationOrCount]]  call BIS_ARTY_F_Available;" \n
           "_viable = [_battery, [_missionType, _ordnanceType, _rateOfFire, _durationOrCount]] call BIS_ARTY_F_StillViable;" \n
           "" \n
           "//Spawn Mode" \n
           "[_battery, false] call BIS_ARTY_F_SetShellSpawn;" \n
           "" \n
           "//Dispersion" \n
           "[_battery, _dispersion] call BIS_ARTY_F_SetDispersion;" \n
           ""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "_">*/
    class _
    {
      name = "_";
      init = /*%FSM<STATEINIT""">*/"_battery setVariable [""NEO_radioArtyUnitStatus"", ""KILLED"", true];" \n
       ""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "__1">*/
    class __1
    {
      name = "__1";
      init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "not_viable">*/
        class not_viable
        {
          priority = 3.000000;
          to="__9";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"!_viable" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "not_in_range">*/
        class not_in_range
        {
          priority = 1.000000;
          to="__2";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"!_inRange" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "proceed">*/
        class proceed
        {
          priority = 0.000000;
          to="__3";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"true" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"{ doStop _x } forEach _units;" \n
           "" \n
           "_battery setVariable [""NEO_radioArtyUnitStatus"", ""MISSION"", true];" \n
           "[_battery, _target, [_missionType, _ordnanceType, _rateOfFire, _durationOrCount]] call BIS_ARTY_F_ExecuteTemplateMission;" \n
           "" \n
           "//Update ammo" \n
           "_ammo = _battery getVariable ""NEO_radioArtyBatteryRounds"";" \n
           "_newAmmo = [];" \n
           "" \n
           "{" \n
           "	private [""_round"", ""_count"", ""_countNew""];" \n
           "	_round = _x select 0;" \n
           "	_count = _x select 1;" \n
           "	_countNew = _count - _durationOrCount;" \n
           "	" \n
           "	if (_ordnanceType == _round && _countNew > 0) then" \n
           "	{" \n
           "		_newAmmo = [_ordnanceType, _countNew];" \n
           "		_newAmmoIndex = _forEachIndex;" \n
           "	};" \n
           "} forEach _ammo;" \n
           "" \n
           "_newAmmoArray = _ammo;" \n
           "if (count _newAmmo > 0) then " \n
           "{" \n
           "	_newAmmoArray set [_newAmmoIndex, _newAmmo];" \n
           "}" \n
           "else" \n
           "{" \n
           "	_newAmmoArray set [_newAmmoIndex, ""DELETEPLEASE""];" \n
           "	_newAmmoArray = _newAmmoArray - [""DELETEPLEASE""];" \n
           "};" \n
           "" \n
           "_battery setVariable [""NEO_radioArtyBatteryRounds"", _newAmmoArray, true];" \n
           ""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "__2">*/
    class __2
    {
      name = "__2";
      init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "dead">*/
        class dead
        {
          priority = 100.000000;
          to="_";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"{ alive _x } count _units < 1" \n
           "||" \n
           "{ alive _x } count units _grp < 1" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "mobile">*/
        class mobile
        {
          priority = 1.000000;
          to="__10";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"_canMove" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"_battery setVariable [""NEO_radioArtyUnitStatus"", ""RESPONSE"", true];" \n
           "" \n
           "[(_units select 0), _callsign, side leader _grp, _battery] spawn" \n
           "{" \n
           "	sleep 5;" \n
           "	[_this select 0, ""Target is out of range of battery, would you like us to move into good position? Over."", ""side""] call NEO_fnc_messageBroadcast;" \n
           "	" \n
           "	[_this select 0, _this select 1, _this select 3] spawn" \n
           "	{" \n
           "		private [""_unit"", ""_callsign"", ""_battery""];" \n
           "		_unit = _this select 0;" \n
           "		_callsign = _this select 1;" \n
           "		_battery = _this select 2;" \n
           "		" \n
           "		sleep 75;" \n
           "		" \n
           "		while { (_battery getVariable ""NEO_radioArtyUnitStatus"") == ""RESPONSE"" } do" \n
           "		{" \n
           "			[" \n
           "				_unit," \n
           "				""Should we move in range? Please respond. Over.""," \n
           "				""side""" \n
           "			] call NEO_fnc_messageBroadcast;" \n
           "			" \n
           "			sleep 75;" \n
           "		};" \n
           "	};" \n
           "};" \n
           ""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "static">*/
        class static
        {
          priority = 0.000000;
          to="main_loop";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"true" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"(_units select 0) spawn" \n
           "{" \n
           "	sleep 5;" \n
           "	[_this, ""Target is out of range of battery, choose another target. Out."", ""side""] call NEO_fnc_messageBroadcast;" \n
           "};" \n
           ""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "__3">*/
    class __3
    {
      name = "__3";
      init = /*%FSM<STATEINIT""">*/"(_units select 0) spawn" \n
       "{" \n
       "	sleep 5;" \n
       "	[_this, ""Stand by for fire mission. Out."", ""side""] call NEO_fnc_messageBroadcast;" \n
       "};" \n
       "" \n
       "_delay = time + 10;" \n
       ""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "dead">*/
        class dead
        {
          priority = 100.000000;
          to="_";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"{ alive _x } count _units < 1" \n
           "||" \n
           "{ alive _x } count units _grp < 1" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "shoot">*/
        class shoot
        {
          priority = 0.000000;
          to="__4";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"_battery getVariable ""ARTY_SHOTCALLED""" \n
           "&&" \n
           "time > _delay" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"[(_units select 0), ""We are firing on target. Out."", ""side""] call NEO_fnc_messageBroadcast;" \n
           ""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "__4">*/
    class __4
    {
      name = "__4";
      init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "dead">*/
        class dead
        {
          priority = 100.000000;
          to="_";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"{ alive _x } count _units < 1" \n
           "||" \n
           "{ alive _x } count units _grp < 1" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "splash">*/
        class splash
        {
          priority = 1.000000;
          to="__6";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"_battery getVariable ""ARTY_SPLASH""" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"[(_units select 0), ""Splash. Out."", ""side""] call NEO_fnc_messageBroadcast;" \n
           ""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "complete">*/
        class complete
        {
          priority = 0.000000;
          to="__5";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"_battery getVariable ""ARTY_COMPLETE""" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"[(_units select 0), ""Battery is rounds complete. Out."", ""side""] call NEO_fnc_messageBroadcast;" \n
           ""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "__5">*/
    class __5
    {
      name = "__5";
      init = /*%FSM<STATEINIT""">*/"_delay = time + 10;" \n
       ""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "dead">*/
        class dead
        {
          priority = 100.000000;
          to="_";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"{ alive _x } count _units < 1" \n
           "||" \n
           "{ alive _x } count units _grp < 1" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "splash_2">*/
        class splash_2
        {
          priority = 0.000000;
          to="__7";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"_battery getVariable ""ARTY_SPLASH""" \n
           "&&" \n
           "time > _delay" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"[(_units select 0), ""Splash. Out."", ""side""] call NEO_fnc_messageBroadcast;" \n
           ""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "__6">*/
    class __6
    {
      name = "__6";
      init = /*%FSM<STATEINIT""">*/"_delay = time + 10;" \n
       ""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "dead">*/
        class dead
        {
          priority = 100.000000;
          to="_";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"{ alive _x } count _units < 1" \n
           "||" \n
           "{ alive _x } count units _grp < 1" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "complete_2">*/
        class complete_2
        {
          priority = 0.000000;
          to="__8";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"_battery getVariable ""ARTY_COMPLETE""" \n
           "&&" \n
           "time > _delay" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"[(_units select 0), ""Battery is rounds complete. Out."", ""side""] call NEO_fnc_messageBroadcast;" \n
           ""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "__7">*/
    class __7
    {
      name = "__7";
      init = /*%FSM<STATEINIT""">*/"_delay = time + 10;" \n
       ""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "dead">*/
        class dead
        {
          priority = 100.000000;
          to="_";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"{ alive _x } count _units < 1" \n
           "||" \n
           "{ alive _x } count units _grp < 1" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "ready_for_new_mi">*/
        class ready_for_new_mi
        {
          priority = 0.000000;
          to="__13";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"!(_battery getVariable ""ARTY_ONMISSION"")" \n
           "&&" \n
           "time > _delay" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "__8">*/
    class __8
    {
      name = "__8";
      init = /*%FSM<STATEINIT""">*/"_delay = time + 10;" \n
       ""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "dead">*/
        class dead
        {
          priority = 100.000000;
          to="_";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"{ alive _x } count _units < 1" \n
           "||" \n
           "{ alive _x } count units _grp < 1" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "ready_for_new_mi">*/
        class ready_for_new_mi
        {
          priority = 0.000000;
          to="__13";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"!(_battery getVariable ""ARTY_ONMISSION"")" \n
           "&&" \n
           "time > _delay" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "__9">*/
    class __9
    {
      name = "__9";
      init = /*%FSM<STATEINIT""">*/"_battery setVariable [""NEO_radioArtyUnitStatus"", ""KILLED"", true];" \n
       ""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "__10">*/
    class __10
    {
      name = "__10";
      init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "dead">*/
        class dead
        {
          priority = 100.000000;
          to="_";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"{ alive _x } count _units < 1" \n
           "||" \n
           "{ alive _x } count units _grp < 1" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "move_out">*/
        class move_out
        {
          priority = 1.000000;
          to="__11";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"!isNil { _battery getVariable ""NEO_radioArtyMove"" }" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"_battery setVariable [""NEO_radioArtyUnitStatus"", ""MOVE"", true];" \n
           "_battery setVariable [""NEO_radioArtyMove"", nil, true];" \n
           "" \n
           "_firingDistance = _class call NEO_fnc_artyUnitFiringDistance;" \n
           "_radiusMove = 0;" \n
           "if (_leader distance _target < (_firingDistance select 0)) then { _radiusMove = _firingDistance select 0 };" \n
           "if (_leader distance _target > (_firingDistance select 1)) then { _radiusMove = _firingDistance select 1 };" \n
           "_dirMove = [_target, _leader] call BIS_fnc_dirTo;" \n
           "_posMove = [_target, _radiusMove, _dirMove] call BIS_fnc_relPos;" \n
           "_isFlat = _posMove isflatempty [10,0,1,10,0,false,objNull];" \n
           "_tries = 0;" \n
           "" \n
           "while { count _isFlat < 2 && _tries < 360 } do" \n
           "{" \n
           "	_tries = _tries + 1;" \n
           "	_dirMove = _dirMove + 1;" \n
           "	_posMove = [_target, _radiusMove, _dirMove] call BIS_fnc_relPos;" \n
           "	_isFlat = _posMove isflatempty [50,0,0.9,50,0,false,objNull];" \n
           "};" \n
           "" \n
           "if (count _isFlat < 2) then" \n
           "{" \n
           "	_isFlat = [_target, _radiusMove, ([_target, _leader] call BIS_fnc_dirTo)] call BIS_fnc_relPos;" \n
           "};" \n
           "" \n
           "_grp setVariable [""NEO_radioArtyNotInBase"", _isFlat];" \n
           "" \n
           "{" \n
           "	_x doMove ([_isFlat, 50, random 360] call BIS_fnc_relPos);" \n
           "} forEach _units;" \n
           "" \n
           "(_units select 0) spawn" \n
           "{" \n
           "	sleep 5;" \n
           "	[_this, ""Copy that, moving in range of target, stand by. Out."", ""side""] call NEO_fnc_messageBroadcast;" \n
           "};" \n
           ""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "do_not_move">*/
        class do_not_move
        {
          priority = 0.000000;
          to="main_loop";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"!isNil { _battery getVariable ""NEO_radioArtyDontMove"" }" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"_battery setVariable [""NEO_radioArtyUnitStatus"", ""NONE"", true];" \n
           "_battery setVariable [""NEO_radioArtyDontMove"", nil, true];" \n
           "" \n
           "(_units select 0) spawn" \n
           "{" \n
           "	sleep 5;" \n
           "	[_this, ""Copy that, aborting fire mission. Out."", ""side""] call NEO_fnc_messageBroadcast;" \n
           "};" \n
           ""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "__11">*/
    class __11
    {
      name = "__11";
      init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "dead">*/
        class dead
        {
          priority = 100.000000;
          to="_";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"{ alive _x } count _units < 1" \n
           "||" \n
           "{ alive _x } count units _grp < 1" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "move_aborted">*/
        class move_aborted
        {
          priority = 1.000000;
          to="__13";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"!isNil { _battery getVariable ""NEO_radioArtyGoToBase"" }" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"_battery setVariable [""NEO_radioArtyGoToBase"", nil, true];" \n
           ""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "in_position">*/
        class in_position
        {
          priority = 0.000000;
          to="__12";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"{ unitReady _x } count units _grp == count units _grp" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "__12">*/
    class __12
    {
      name = "__12";
      init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "proceed">*/
        class proceed
        {
          priority = 0.000000;
          to="__3";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"true" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"{ doStop _x } forEach _units;" \n
           "" \n
           "_battery setVariable [""NEO_radioArtyUnitStatus"", ""MISSION"", true];" \n
           "[_battery, _target, [_missionType, _ordnanceType, _rateOfFire, _durationOrCount]] call BIS_ARTY_F_ExecuteTemplateMission;" \n
           "" \n
           "//Update ammo" \n
           "_ammo = _battery getVariable ""NEO_radioArtyBatteryRounds"";" \n
           "_newAmmo = [];" \n
           "" \n
           "{" \n
           "	private [""_round"", ""_count"", ""_countNew""];" \n
           "	_round = _x select 0;" \n
           "	_count = _x select 1;" \n
           "	_countNew = _count - _durationOrCount;" \n
           "	" \n
           "	if (_ordnanceType == _round && _countNew > 0) then" \n
           "	{" \n
           "		_newAmmo = [_ordnanceType, _countNew];" \n
           "		_newAmmoIndex = _forEachIndex;" \n
           "	};" \n
           "} forEach _ammo;" \n
           "" \n
           "_newAmmoArray = _ammo;" \n
           "if (count _newAmmo > 0) then " \n
           "{" \n
           "	_newAmmoArray set [_newAmmoIndex, _newAmmo];" \n
           "}" \n
           "else" \n
           "{" \n
           "	_newAmmoArray set [_newAmmoIndex, ""DELETEPLEASE""];" \n
           "	_newAmmoArray = _newAmmoArray - [""DELETEPLEASE""];" \n
           "};" \n
           "" \n
           "_battery setVariable [""NEO_radioArtyBatteryRounds"", _newAmmoArray, true];" \n
           ""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "__13">*/
    class __13
    {
      name = "__13";
      init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "dead">*/
        class dead
        {
          priority = 100.000000;
          to="_";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"{ alive _x } count _units < 1" \n
           "||" \n
           "{ alive _x } count units _grp < 1" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "not_at_base">*/
        class not_at_base
        {
          priority = 1.000000;
          to="__14";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"!isNil { _grp getVariable ""NEO_radioArtyNotInBase"" }" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"_battery setVariable [""NEO_radioArtyUnitStatus"", ""RTB"", true];" \n
           "" \n
           "{" \n
           "	_x doMove ([_pos, 20, random 360] call BIS_fnc_relPos);" \n
           "} forEach _units;" \n
           "" \n
           "[(_units select 0), ""Battery is moving back to Base. Out."", ""side""] call NEO_fnc_messageBroadcast;" \n
           ""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "at_base">*/
        class at_base
        {
          priority = 0.000000;
          to="main_loop";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"true"/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"if (count (_battery getVariable ""NEO_radioArtyBatteryRounds"") < 1) then" \n
           "{" \n
           "	_battery setVariable [""NEO_radioArtyUnitStatus"", ""NOAMMO"", true];" \n
           "	[(_units select 0), ""Battery is out of ammo. Out."", ""side""] call NEO_fnc_messageBroadcast;" \n
           "}" \n
           "else" \n
           "{" \n
           "	_battery setVariable [""NEO_radioArtyUnitStatus"", ""NONE"", true];" \n
           "	[(_units select 0), ""Battery is ready for fire mission. Out."", ""side""] call NEO_fnc_messageBroadcast;" \n
           "};" \n
           ""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "__14">*/
    class __14
    {
      name = "__14";
      init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
        /*%FSM<LINK "dead">*/
        class dead
        {
          priority = 100.000000;
          to="_";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"{ alive _x } count _units < 1" \n
           "||" \n
           "{ alive _x } count units _grp < 1" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
        /*%FSM<LINK "in_position_at_b">*/
        class in_position_at_b
        {
          priority = 0.000000;
          to="main_loop";
          precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
          condition=/*%FSM<CONDITION""">*/"{ unitReady _x } count units _grp == count units _grp" \n
           ""/*%FSM</CONDITION""">*/;
          action=/*%FSM<ACTION""">*/"_grp setVariable [""NEO_radioArtyNotInBase"", nil];" \n
           "" \n
           "if (count (_battery getVariable ""NEO_radioArtyBatteryRounds"") < 1) then" \n
           "{" \n
           "	_battery setVariable [""NEO_radioArtyUnitStatus"", ""NOAMMO"", true];" \n
           "	[(_units select 0), ""Battery is at Base and out of ammo. Out."", ""side""] call NEO_fnc_messageBroadcast;" \n
           "}" \n
           "else" \n
           "{" \n
           "	_battery setVariable [""NEO_radioArtyUnitStatus"", ""NONE"", true];" \n
           "	[(_units select 0), ""Battery is at Base and ready for fire mission. Out."", ""side""] call NEO_fnc_messageBroadcast;" \n
           "};" \n
           ""/*%FSM</ACTION""">*/;
        };
        /*%FSM</LINK>*/
      };
    };
    /*%FSM</STATE>*/
    /*%FSM<STATE "__15">*/
    class __15
    {
      name = "__15";
      init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
      precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
      class Links
      {
      };
    };
    /*%FSM</STATE>*/
  };
  initState="start";
  finalStates[] =
  {
    "_",
    "__9",
    "__15",
  };
};
/*%FSM</COMPILE>*/